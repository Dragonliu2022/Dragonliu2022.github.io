<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>《代码整洁之道 clean code》笔记 | Dragon&#39;s Synthesis Blogs</title>
  <meta name="description" content="《代码整洁之道 Clean Code》Robert C. Martin 著 韩磊 译 人民邮电出版社 2020 《Clean Code(评注版)》Robert C. Martin 著 韩磊 评注 电子工业出版社 2012    Ch2 Meaningful Names(有意义的命名)  2.1 Use Intention-Revealing Names(名副其实) 如果名称需要注释来补充，那就">
<meta name="keywords" content="IT书籍,重构">
<meta property="og:type" content="article">
<meta property="og:title" content="《代码整洁之道 clean code》笔记">
<meta property="og:url" content="https://Dragonliu2022.github.io/2022/04/15/《代码整洁之道 clean code》笔记/index.html">
<meta property="og:site_name" content="Dragon Liu">
<meta property="og:description" content="《代码整洁之道 Clean Code》Robert C. Martin 著 韩磊 译 人民邮电出版社 2020 《Clean Code(评注版)》Robert C. Martin 著 韩磊 评注 电子工业出版社 2012    Ch2 Meaningful Names(有意义的命名)  2.1 Use Intention-Revealing Names(名副其实) 如果名称需要注释来补充，那就">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2022-04-18T14:18:55.189Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="《代码整洁之道 clean code》笔记">
<meta name="twitter:description" content="《代码整洁之道 Clean Code》Robert C. Martin 著 韩磊 译 人民邮电出版社 2020 《Clean Code(评注版)》Robert C. Martin 著 韩磊 评注 电子工业出版社 2012    Ch2 Meaningful Names(有意义的命名)  2.1 Use Intention-Revealing Names(名副其实) 如果名称需要注释来补充，那就">
  <!-- Canonical links -->
  <link rel="canonical" href="https://Dragonliu2022.github.io/2022/04/15/《代码整洁之道 clean code》笔记/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Dragon Liu" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link href="//cdn.jsdelivr.net/npm/katex@0.9.0/dist/katex.min.css" rel="stylesheet">
  
  
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/dragonliu2018" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.png" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Dragon&#39;s Blogs</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Synthesis</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Nanjing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/dragonliu2018" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</br>dragonliu2018@gmail.com</br>电脑端观看效果更佳！</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI/">AI</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/影视/">影视</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/未分类/">未分类</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/爬虫/">爬虫</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/环境与工具/">环境与工具</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计组/">计组</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读/">阅读</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/音乐/">音乐</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CV/">CV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT书籍/">IT书籍</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/selenium/">selenium</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/书评/">书评</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区块链/">区块链</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/待补充/">待补充</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/摘抄/">摘抄</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电视剧/">电视剧</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/纪录片/">纪录片</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/重构/">重构</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/CV/" style="font-size: 13px;">CV</a> <a href="/tags/Git/" style="font-size: 13px;">Git</a> <a href="/tags/Hexo/" style="font-size: 13.6px;">Hexo</a> <a href="/tags/IT书籍/" style="font-size: 13px;">IT书籍</a> <a href="/tags/selenium/" style="font-size: 13.2px;">selenium</a> <a href="/tags/书评/" style="font-size: 13.8px;">书评</a> <a href="/tags/区块链/" style="font-size: 13px;">区块链</a> <a href="/tags/待补充/" style="font-size: 14px;">待补充</a> <a href="/tags/摘抄/" style="font-size: 13.2px;">摘抄</a> <a href="/tags/深度学习/" style="font-size: 13.2px;">深度学习</a> <a href="/tags/电影/" style="font-size: 13.4px;">电影</a> <a href="/tags/电视剧/" style="font-size: 13px;">电视剧</a> <a href="/tags/纪录片/" style="font-size: 13px;">纪录片</a> <a href="/tags/重构/" style="font-size: 13px;">重构</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/计组/">计组</a>
              </p>
              <p class="item-title">
                <a href="/2022/06/05/Lab3实验总结/" class="title">Lab3实验总结</a>
              </p>
              <p class="item-date">
                <time datetime="2022-06-05T12:52:07.000Z" itemprop="datePublished">2022-06-05</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/环境与工具/">环境与工具</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/27/gdb调试/" class="title">gdb调试</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-27T05:24:18.000Z" itemprop="datePublished">2022-05-27</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/计组/">计组</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/27/PA答疑之a4指令码报错/" class="title">PA答疑之a4指令码报错</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-27T05:06:36.000Z" itemprop="datePublished">2022-05-27</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/计组/">计组</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/26/64位Ubuntu运行32位程序/" class="title">64位Ubuntu运行或调试32位程序</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-26T05:20:32.000Z" itemprop="datePublished">2022-05-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/AI/">AI</a>
              </p>
              <p class="item-title">
                <a href="/2022/05/16/MLP的pytorch实现/" class="title">MLP的pytorch实现</a>
              </p>
              <p class="item-date">
                <time datetime="2022-05-16T13:40:45.000Z" itemprop="datePublished">2022-05-16</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
  <aside class="sidebar sidebar-toc collapse   in  " id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ch2-meaningful-names有意义的命名"><span class="toc-number">1.</span> <span class="toc-text"> Ch2 Meaningful Names(有意义的命名)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#21-use-intention-revealing-names名副其实"><span class="toc-number">1.1.</span> <span class="toc-text"> 2.1 Use Intention-Revealing Names(名副其实)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-avoid-disinformation避免误导"><span class="toc-number">1.2.</span> <span class="toc-text"> 2.2 Avoid Disinformation(避免误导)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-make-meaningful-distinctions做有意义的区分"><span class="toc-number">1.3.</span> <span class="toc-text"> 2.3 Make Meaningful Distinctions(做有意义的区分)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-use-pronounceable-names使用可读命名"><span class="toc-number">1.4.</span> <span class="toc-text"> 2.4 Use Pronounceable Names(使用可读命名)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-use-searchable-names使用可搜索命名"><span class="toc-number">1.5.</span> <span class="toc-text"> 2.5 Use Searchable Names(使用可搜索命名)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26-avoid-encoding避免编码"><span class="toc-number">1.6.</span> <span class="toc-text"> 2.6 Avoid Encoding(避免编码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27-avoid-mental-mapping避免惯性思维"><span class="toc-number">1.7.</span> <span class="toc-text"> 2.7 Avoid Mental Mapping(避免惯性思维)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-class-names类名"><span class="toc-number">1.8.</span> <span class="toc-text"> 2.8 Class Names(类名)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-method-names方法名"><span class="toc-number">1.9.</span> <span class="toc-text"> 2.9 Method Names(方法名)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#210-dont-be-cute别抖机灵"><span class="toc-number">1.10.</span> <span class="toc-text"> 2.10 Don’t Be Cute(别抖机灵)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#211-pick-one-word-per-concept每个概念对应一个词"><span class="toc-number">1.11.</span> <span class="toc-text"> 2.11 Pick One Word per Concept(每个概念对应一个词)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#212-dont-pun别用双关语"><span class="toc-number">1.12.</span> <span class="toc-text"> 2.12 Don’t Pun(别用双关语)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#213-use-solution-domain-names使用解决方案领域名称"><span class="toc-number">1.13.</span> <span class="toc-text"> 2.13 Use Solution Domain Names(使用解决方案领域名称)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#214-use-problem-domain-names使用问题领域名称"><span class="toc-number">1.14.</span> <span class="toc-text"> 2.14 Use Problem Domain Names(使用问题领域名称)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#215-add-meaningful-context添加有意义的语境"><span class="toc-number">1.15.</span> <span class="toc-text"> 2.15 Add Meaningful Context(添加有意义的语境)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#216-dont-add-gratutous-context不要添加没用的语境"><span class="toc-number">1.16.</span> <span class="toc-text"> 2.16 Don’t Add Gratutous Context(不要添加没用的语境)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch3-functions函数"><span class="toc-number">2.</span> <span class="toc-text"> Ch3 Functions(函数)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#31-small短小"><span class="toc-number">2.1.</span> <span class="toc-text"> 3.1 Small(短小)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-do-one-thing只做一件事"><span class="toc-number">2.2.</span> <span class="toc-text"> 3.2 Do One Thing(只做一件事)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33-one-level-of-abstraction-per-function每个函数一个抽象层级"><span class="toc-number">2.3.</span> <span class="toc-text"> 3.3 One Level of Abstraction per Function(每个函数一个抽象层级)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-switch-statementsswitch语句"><span class="toc-number">2.4.</span> <span class="toc-text"> 3.4 Switch Statements(Switch语句)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35-use-descriptive-names使用描述性的名称"><span class="toc-number">2.5.</span> <span class="toc-text"> 3.5 Use Descriptive Names(使用描述性的名称)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36-function-arguments函数参数"><span class="toc-number">2.6.</span> <span class="toc-text"> 3.6 Function Arguments(函数参数)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-have-no-side-effects无副作用"><span class="toc-number">2.7.</span> <span class="toc-text"> 3.7 Have No Side Effects(无副作用)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38-command-query-separation分隔指令和询问"><span class="toc-number">2.8.</span> <span class="toc-text"> 3.8 Command Query Separation(分隔指令和询问)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39-prefer-exceptions-to-returning-error-codes使用异常代替返回错误码"><span class="toc-number">2.9.</span> <span class="toc-text"> 3.9 Prefer Exceptions to Returning Error Codes(使用异常代替返回错误码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#310-dont-repeat-yourself别重复自己"><span class="toc-number">2.10.</span> <span class="toc-text"> 3.10 Don’t Repeat Yourself(别重复自己)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#311-structured-programming结构化编程"><span class="toc-number">2.11.</span> <span class="toc-text"> 3.11 Structured Programming(结构化编程)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#312-如何写出这样的函数"><span class="toc-number">2.12.</span> <span class="toc-text"> 3.12 如何写出这样的函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch4-comments注释"><span class="toc-number">3.</span> <span class="toc-text"> Ch4 Comments(注释)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-comments-do-not-make-up-for-bad-code注释不能弥补糟糕的代码"><span class="toc-number">3.1.</span> <span class="toc-text"> 4.1 Comments Do Not Make Up for Bad Code(注释不能弥补糟糕的代码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-explain-yourself-in-code用代码来阐述"><span class="toc-number">3.2.</span> <span class="toc-text"> 4.2 Explain Yourself in Code(用代码来阐述)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-good-comments好注释"><span class="toc-number">3.3.</span> <span class="toc-text"> 4.3 Good Comments(好注释)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-bad-comments坏注释"><span class="toc-number">3.4.</span> <span class="toc-text"> 4.4 Bad Comments(坏注释)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch5-formatting格式"><span class="toc-number">4.</span> <span class="toc-text"> Ch5 Formatting(格式)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#51-vertical-formatting垂直格式"><span class="toc-number">4.1.</span> <span class="toc-text"> 5.1 Vertical Formatting(垂直格式)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-horizontal-formatting横向格式"><span class="toc-number">4.2.</span> <span class="toc-text"> 5.2 Horizontal Formatting(横向格式)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#53-team-rules团队规则"><span class="toc-number">4.3.</span> <span class="toc-text"> 5.3 Team Rules(团队规则)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch6-objects-and-data-structures对象和数据结构"><span class="toc-number">5.</span> <span class="toc-text"> Ch6 Objects and Data Structures(对象和数据结构)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#61-data-abstraction数据抽象"><span class="toc-number">5.1.</span> <span class="toc-text"> 6.1 Data Abstraction(数据抽象)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#62-dataobjects-anti-symmetrey数据-对象的反对称性"><span class="toc-number">5.2.</span> <span class="toc-text"> 6.2 Data/Objects Anti-Symmetrey(数据、对象的反对称性)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#63-the-law-of-demeter得墨忒耳律"><span class="toc-number">5.3.</span> <span class="toc-text"> * 6.3 The Law of Demeter(得墨忒耳律)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#64-data-transfer-objects数据传送对象"><span class="toc-number">5.4.</span> <span class="toc-text"> 6.4 Data Transfer Objects(数据传送对象)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch7-error-handling错误处理"><span class="toc-number">6.</span> <span class="toc-text"> * Ch7 Error Handling(错误处理)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#71-使用异常而非返回码"><span class="toc-number">6.1.</span> <span class="toc-text"> 7.1 使用异常而非返回码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#72-write-your-try-catch-finally-statement-first"><span class="toc-number">6.2.</span> <span class="toc-text"> 7.2 Write Your Try-Catch-Finally Statement First</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#73-use-unchecked-exceptions使用不可控异常"><span class="toc-number">6.3.</span> <span class="toc-text"> 7.3 Use Unchecked Exceptions(使用不可控异常)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#74-provide-context-with-exceptions给出异常发生的环境说明"><span class="toc-number">6.4.</span> <span class="toc-text"> 7.4 Provide Context with Exceptions(给出异常发生的环境说明)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#75-define-exception-classes-in-terms-of-a-callers-needs依照调用者需要定义异常类"><span class="toc-number">6.5.</span> <span class="toc-text"> 7.5 Define Exception Classes in Terms of a Caller’s Needs(依照调用者需要定义异常类)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#76-define-the-normal-flow定义常规流程"><span class="toc-number">6.6.</span> <span class="toc-text"> 7.6 Define the Normal Flow(定义常规流程)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#77-dont-return-null"><span class="toc-number">6.7.</span> <span class="toc-text"> 7.7 Don’t Return Null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#78-dont-pass-null不传递null值"><span class="toc-number">6.8.</span> <span class="toc-text"> 7.8 Don’t Pass Null(不传递null值)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch8-boundaries边界"><span class="toc-number">7.</span> <span class="toc-text"> * Ch8 Boundaries(边界)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#81-using-third-party-code使用第三方代码"><span class="toc-number">7.1.</span> <span class="toc-text"> 8.1 Using Third-Party Code(使用第三方代码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#82-浏览和学习边界"><span class="toc-number">7.2.</span> <span class="toc-text"> 8.2 浏览和学习边界</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch9-unit-tests单元测试"><span class="toc-number">8.</span> <span class="toc-text"> Ch9 Unit Tests(单元测试)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#91-tdd三定律"><span class="toc-number">8.1.</span> <span class="toc-text"> 9.1 TDD三定律</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#92-keeping-tests-clean保持测试整洁"><span class="toc-number">8.2.</span> <span class="toc-text"> 9.2 Keeping Tests Clean(保持测试整洁)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#93-clean-tests整洁的测试"><span class="toc-number">8.3.</span> <span class="toc-text"> 9.3 Clean Tests(整洁的测试)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#94-one-assert-per-test每个测试一个断言"><span class="toc-number">8.4.</span> <span class="toc-text"> 9.4 One Assert per Test(每个测试一个断言)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#95-first"><span class="toc-number">8.5.</span> <span class="toc-text"> 9.5 F.I.R.S.T.</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch10-classes类"><span class="toc-number">9.</span> <span class="toc-text"> Ch10 Classes(类)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#101-class-organization类的组织"><span class="toc-number">9.1.</span> <span class="toc-text"> 10.1 Class Organization(类的组织)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#102-class-should-be-small类应该短小"><span class="toc-number">9.2.</span> <span class="toc-text"> 10.2 Class Should Be Small!(类应该短小)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#103-organizing-for-change为了修改而组织"><span class="toc-number">9.3.</span> <span class="toc-text"> 10.3 Organizing for Change(为了修改而组织)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch11-systems系统"><span class="toc-number">10.</span> <span class="toc-text"> * Ch11 Systems(系统)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#111-separate-constructing-a-system-from-using-it将系统的构造与使用分开"><span class="toc-number">10.1.</span> <span class="toc-text"> 11.1 Separate Constructing a System from Using It(将系统的构造与使用分开)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#112-scaling-up扩容"><span class="toc-number">10.2.</span> <span class="toc-text"> 11.2 Scaling Up(扩容)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#113-java-proxiesjava代理"><span class="toc-number">10.3.</span> <span class="toc-text"> 11.3 Java Proxies(Java代理)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#114-pure-java-aop-frameworks纯java-aop框架"><span class="toc-number">10.4.</span> <span class="toc-text"> 11.4 Pure Java AOP Frameworks(纯Java AOP框架)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#115-aspectj-aspectsaspectj的方面"><span class="toc-number">10.5.</span> <span class="toc-text"> 11.5 AspectJ Aspects(AspectJ的方面)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#116-test-drive-the-system-architecture测试驱动系统框架"><span class="toc-number">10.6.</span> <span class="toc-text"> 11.6 Test Drive the System Architecture(测试驱动系统框架)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#117-optimize-decision-making优化决策"><span class="toc-number">10.7.</span> <span class="toc-text"> 11.7 Optimize Decision Making(优化决策)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch12-emergence迭进"><span class="toc-number">11.</span> <span class="toc-text"> Ch12 Emergence(迭进)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch13-concurrency并发编程"><span class="toc-number">12.</span> <span class="toc-text"> * Ch13 Concurrency(并发编程)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#131-并发防御原则"><span class="toc-number">12.1.</span> <span class="toc-text"> 13.1 并发防御原则</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch14-successive-refinement逐步改进"><span class="toc-number">13.</span> <span class="toc-text"> Ch14 Successive Refinement(逐步改进)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch15-junit-internalsjunit内幕"><span class="toc-number">14.</span> <span class="toc-text"> * Ch15 JUnit Internals(JUnit内幕)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch16-refactoring-serialdate重构-serialdate"><span class="toc-number">15.</span> <span class="toc-text"> * Ch16 Refactoring SerialDate(重构 SerialDate)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch17-smells-and-heuristics味道与启发"><span class="toc-number">16.</span> <span class="toc-text"> * Ch17 Smells and Heuristics(味道与启发)</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-《代码整洁之道 clean code》笔记" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      《代码整洁之道 clean code》笔记
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2022/04/15/《代码整洁之道 clean code》笔记/" class="article-date">
	  <time datetime="2022-04-15T07:43:14.000Z" itemprop="datePublished">2022-04-15</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/阅读/">阅读</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/IT书籍/">IT书籍</a>, <a class="article-tag-link" href="/tags/重构/">重构</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2022/04/15/《代码整洁之道 clean code》笔记/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 7.3k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 26(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <blockquote>
<ul>
<li>《代码整洁之道 Clean Code》Robert C. Martin 著 韩磊 译 人民邮电出版社 2020</li>
<li>《Clean Code(评注版)》Robert C. Martin 著 韩磊 评注 电子工业出版社 2012</li>
</ul>
</blockquote>
<h1 id="ch2-meaningful-names有意义的命名"><a class="markdownIt-Anchor" href="#ch2-meaningful-names有意义的命名"></a> Ch2 Meaningful Names(有意义的命名)</h1>
<h2 id="21-use-intention-revealing-names名副其实"><a class="markdownIt-Anchor" href="#21-use-intention-revealing-names名副其实"></a> 2.1 Use Intention-Revealing Names(名副其实)</h2>
<p>如果名称需要注释来补充，那就算不上名副其实。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> d;<span class="comment">//消逝的时间，以日计</span></span><br><span class="line"><span class="keyword">int</span> elapsedTimeInDays;</span><br></pre></td></tr></table></figure>
<h2 id="22-avoid-disinformation避免误导"><a class="markdownIt-Anchor" href="#22-avoid-disinformation避免误导"></a> 2.2 Avoid Disinformation(避免误导)</h2>
<p>程序员必须避免留下掩藏代码本意的错误线索。应当避免使用与本意相悖的词。</p>
<ul>
<li>
<p>缩写形式常常带来误导。编写三角计算程序，hp是hypotenuse(直角三角形的斜边)缩写，但也是UNIX平台或类UNIX平台的专有名称。</p>
</li>
<li>
<p>一些词对于程序员有特殊含义，如List：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">accountList;<span class="comment">//一组账号，如果账号的容器并List，就会引起错误的判断。</span></span><br><span class="line"><span class="comment">// 可以换成</span></span><br><span class="line">accountGroup;</span><br><span class="line">bunchOfAccounts;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>不使用差异较小的名称，不易区分</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XYZControllerForEfficientHandlingOfStrings;</span><br><span class="line">XYZControllerForEfficientStorageOfStrings;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>不用小写字母<code>l</code>和大写字母<code>O</code>做为变量名，容易与数字<code>1</code>和<code>0</code>混淆</p>
</li>
</ul>
<h2 id="23-make-meaningful-distinctions做有意义的区分"><a class="markdownIt-Anchor" href="#23-make-meaningful-distinctions做有意义的区分"></a> 2.3 Make Meaningful Distinctions(做有意义的区分)</h2>
<ul>
<li>以数字系列命名：<code>a1,a2,a3...aN</code></li>
<li>废话：Product类、ProductInfo类、ProductData类三者名称不同，但是意思无区别</li>
</ul>
<h2 id="24-use-pronounceable-names使用可读命名"><a class="markdownIt-Anchor" href="#24-use-pronounceable-names使用可读命名"></a> 2.4 Use Pronounceable Names(使用可读命名)</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Data genymdhms;<span class="comment">//生成日期，年、月、日、时、分、秒</span></span><br><span class="line">Data generationTimestamp;<span class="comment">//改进</span></span><br></pre></td></tr></table></figure>
<h2 id="25-use-searchable-names使用可搜索命名"><a class="markdownIt-Anchor" href="#25-use-searchable-names使用可搜索命名"></a> 2.5 Use Searchable Names(使用可搜索命名)</h2>
<p>不使用单字母名称和数字常量，在代码中找数字<code>7</code>要比找<code>MAX_CLASSES_PER_STUDENT</code>容易多；单字母名称可用在短方法的本地变量(local variables inside short methods)，如循环中的计数因子<code>i</code>，名称长短应与其作用域大小相对应。</p>
<h2 id="26-avoid-encoding避免编码"><a class="markdownIt-Anchor" href="#26-avoid-encoding避免编码"></a> 2.6 Avoid Encoding(避免编码)</h2>
<p>把类型或作用域加进命名中，徒然增加了读懂命名的负担。带编码的名称也不便发音，容易打错。</p>
<ul>
<li>
<p>匈牙利语标记法：</p>
<ul>
<li>在变量名中用缩写标记变量的类型。</li>
<li>在Windows的C语言API时代，编译器并不做类型检查，程序员需要匈牙利语标记法来帮助自己记住类型。</li>
<li>现代编程语言具有更丰富的类型系统，编译器也记得并强制使用类型。而且，人们趋向于使用更小的类、更短的方法，好让每个变量的定义都在视野范围之内。所以，如今HN和其他类型的编码方式纯属多余。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PhoneNumber phoneString;<span class="comment">//类型发生变化时，名称并不发生变化</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>成员前缀：不必使用<code>m_</code>前缀来表明成员变量</p>
</li>
<li>
<p>接口和实现(Interfaces and Implementations)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// build an Abstract Factory for the creation of shapes</span></span><br><span class="line">ShapeFactory;<span class="comment">//比较好</span></span><br><span class="line">IShapeFactory;<span class="comment">//I前缀表示接口，是废话</span></span><br><span class="line">ShapeFactoryImp;<span class="comment">//实现比接口好一些</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="27-avoid-mental-mapping避免惯性思维"><a class="markdownIt-Anchor" href="#27-avoid-mental-mapping避免惯性思维"></a> 2.7 Avoid Mental Mapping(避免惯性思维)</h2>
<p>不应当让读者在脑中把你的名称翻译为他们熟知的名称；这种问题经常出现在选择是使用问题领域术语还是解决方案领域术语时。</p>
<blockquote>
<p>聪明程序员和专业程序员之间的区别在于，专业程序员了解，明确是王道。专业程序员善用其能，编写其他人能理解的代码。</p>
</blockquote>
<h2 id="28-class-names类名"><a class="markdownIt-Anchor" href="#28-class-names类名"></a> 2.8 Class Names(类名)</h2>
<ul>
<li>类名和对象名应该是名词或名词短语，如Customer、WikiPage、Account 和AddressParser。</li>
<li>避免使用Manager、Processor、Data或Info这样的类名。</li>
<li>类名不应当是动词。</li>
</ul>
<h2 id="29-method-names方法名"><a class="markdownIt-Anchor" href="#29-method-names方法名"></a> 2.9 Method Names(方法名)</h2>
<ul>
<li>
<p>方法名应当是动词或动词短语，如postPayment、deletePage 或save。</p>
</li>
<li>
<p>属性访问器、修改器和断言(accessors, mutators, predicates)应该根据其值命名，并依Javabean 标准1加上get、set和is前缀。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> name=employee.getName();</span><br><span class="line">customer.setName(<span class="string">"mike"</span>);</span><br><span class="line"><span class="keyword">if</span>(paycheck.isPosted())...</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>重载构造器时，使用描述了参数的静态工厂方法名(static factory methods)。例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Complex fulcrumPoint=Complex.FromRealNumber(<span class="number">23.0</span>);</span><br><span class="line"><span class="comment">// 通常好于</span></span><br><span class="line">Complex fulcrumPoint=<span class="keyword">new</span> Complex(<span class="number">23.0</span>);</span><br></pre></td></tr></table></figure>
<p>可以考虑将相应的构造器设置为private，强制使用这种命名手段。</p>
</li>
</ul>
<h2 id="210-dont-be-cute别抖机灵"><a class="markdownIt-Anchor" href="#210-dont-be-cute别抖机灵"></a> 2.10 Don’t Be Cute(别抖机灵)</h2>
<p>别用俗语、俚语。</p>
<h2 id="211-pick-one-word-per-concept每个概念对应一个词"><a class="markdownIt-Anchor" href="#211-pick-one-word-per-concept每个概念对应一个词"></a> 2.11 Pick One Word per Concept(每个概念对应一个词)</h2>
<p>给每个抽象概念选一个词，并且一以贯之。例如：</p>
<ul>
<li>fetch、retrieve和get虽有区别，但在前后一致、团队一致的情况下，可以任取其一，一以贯之。</li>
<li>还有controller、manager、driver</li>
</ul>
<h2 id="212-dont-pun别用双关语"><a class="markdownIt-Anchor" href="#212-dont-pun别用双关语"></a> 2.12 Don’t Pun(别用双关语)</h2>
<p>避免将同一单词用于不同目的。“一词一义”原则</p>
<h2 id="213-use-solution-domain-names使用解决方案领域名称"><a class="markdownIt-Anchor" href="#213-use-solution-domain-names使用解决方案领域名称"></a> 2.13 Use Solution Domain Names(使用解决方案领域名称)</h2>
<p>只有程序员才会读你的代码，所以尽量用那些计算机科学（Computer Science，CS）术语、算法名、模式名、数学术语。</p>
<h2 id="214-use-problem-domain-names使用问题领域名称"><a class="markdownIt-Anchor" href="#214-use-problem-domain-names使用问题领域名称"></a> 2.14 Use Problem Domain Names(使用问题领域名称)</h2>
<p>如果不能用程序员熟悉的术语来命名，就采用从所涉问题领域而来的名称。这样负责维护代码的程序员就能去请教领域专家了。</p>
<blockquote>
<p>优秀的程序员和设计师，其工作之一就是分离解决方案领域和问题领域的概念。</p>
</blockquote>
<h2 id="215-add-meaningful-context添加有意义的语境"><a class="markdownIt-Anchor" href="#215-add-meaningful-context添加有意义的语境"></a> 2.15 Add Meaningful Context(添加有意义的语境)</h2>
<p>用有良好命名的类、函数或名称空间来放置名称给读者提供语境，如果没这么做，给名称添加前缀。比如：firstName、lastName、street、houseNumber、city、state和zipcode的变量</p>
<ol>
<li>如果他们在一起，很明确是构成了一个地址；</li>
<li>如果只有state，那么很难猜测是地址的一部分；</li>
<li>可以添加前缀addrFirstName、addrLastName、addrState等，以此提供语境；</li>
<li>更好的方案是创建名为Address的类。</li>
</ol>
<h2 id="216-dont-add-gratutous-context不要添加没用的语境"><a class="markdownIt-Anchor" href="#216-dont-add-gratutous-context不要添加没用的语境"></a> 2.16 Don’t Add Gratutous Context(不要添加没用的语境)</h2>
<p>只要短名称足够清楚，就要比长名称好，别给名称添加不必要的语境。</p>
<p>比如：设若有一个名为“加油站豪华版”（Gas Station Deluxe）的应用，每个类不要添加GSD前缀。</p>
<h1 id="ch3-functions函数"><a class="markdownIt-Anchor" href="#ch3-functions函数"></a> Ch3 Functions(函数)</h1>
<h2 id="31-small短小"><a class="markdownIt-Anchor" href="#31-small短小"></a> 3.1 Small(短小)</h2>
<ul>
<li>if语句、else语句、while 语句等，其中的代码块应该只有一行。该行大抵应该是一个函数调用语句。这样不但能保持函数短小，而且，因为块内调用的函数拥有较具说明性的名称，从而增加了文档上的价值。</li>
<li>这也意味着函数不应该大到足以容纳嵌套结构。所以，<strong>函数的缩进层级不该多于一层或两层</strong>。当然，这样的函数易于阅读和理解。</li>
</ul>
<h2 id="32-do-one-thing只做一件事"><a class="markdownIt-Anchor" href="#32-do-one-thing只做一件事"></a> 3.2 Do One Thing(只做一件事)</h2>
<p>如果函数只是做了该函数名下同一抽象层上的步骤，则函数还是只做了一件事。</p>
<p>只做一件事的函数无法被合理地切分为多个区段。</p>
<h2 id="33-one-level-of-abstraction-per-function每个函数一个抽象层级"><a class="markdownIt-Anchor" href="#33-one-level-of-abstraction-per-function每个函数一个抽象层级"></a> 3.3 One Level of Abstraction per Function(每个函数一个抽象层级)</h2>
<p>要确保函数只做一件事，函数中的语句都要在同一抽象层级上。</p>
<p>自顶向下读代码：向下规则。让代码拥有自顶向下的阅读顺序，让每个函数后面都跟着位于下一抽象层级的函数，这样一来，在查看函数列表时，就能循抽象层级向下阅读了。</p>
<h2 id="34-switch-statementsswitch语句"><a class="markdownIt-Anchor" href="#34-switch-statementsswitch语句"></a> 3.4 Switch Statements(Switch语句)</h2>
<p>利用多态能够确保每个switch都埋藏在较低的抽象层级，而且永远不重复。</p>
<h2 id="35-use-descriptive-names使用描述性的名称"><a class="markdownIt-Anchor" href="#35-use-descriptive-names使用描述性的名称"></a> 3.5 Use Descriptive Names(使用描述性的名称)</h2>
<ul>
<li>沃德原则：“如果每个例程都让你感到深合己意，那就是整洁代码。” 函数越短小、功能越集中，就越便于取个好名字。</li>
<li>长而具有描述性的名称，比短而令人费解的名称好，比描述性的长注释好。</li>
<li>命名方式要保持一致。使用与模块名一脉相承的短语、名词和动词给函数命名。</li>
</ul>
<h2 id="36-function-arguments函数参数"><a class="markdownIt-Anchor" href="#36-function-arguments函数参数"></a> 3.6 Function Arguments(函数参数)</h2>
<p>最理想的参数数量是零（零参数函数），其次是一（单参数函数），再次是二（双参数函数），应尽量避免三（三参数函数）。有足够特殊的理由才能用三个以上参数（多参数函数）。</p>
<ul>
<li>
<p>标识参数：尽量不向函数传入布尔值；</p>
</li>
<li>
<p>参数对象：如果函数看来需要两个、三个或三个以上参数，就说明其中一些参数应该封装为类了。例如，下面两个声明的差别：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Circle <span class="title">makeCircle</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y, <span class="keyword">double</span> radius)</span></span>;</span><br><span class="line"><span class="function">Circle <span class="title">makeCircle</span><span class="params">(Point center, <span class="keyword">double</span> radius)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>参数列表：有时，我们想要向函数传入数量可变的参数。例如，String.format方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String.format(<span class="string">"s worked $.2f hours."</span>, name, hours);</span><br></pre></td></tr></table></figure>
<p>如果可变参数像上例中那样被同等对待，就和类型为List的单个参数没什么两样。这样一来，String.formate实则是二元函数。下列 String.format的声明也很明显是二元的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">format</span><span class="params">(String format, Object...args)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="37-have-no-side-effects无副作用"><a class="markdownIt-Anchor" href="#37-have-no-side-effects无副作用"></a> 3.7 Have No Side Effects(无副作用)</h2>
<p>函数承诺只做一件事，但还是会做其他被藏起来的事。有时，它会对自己类中的变量做出未能预期的改动。有时，它会把变量搞成向函数传递的参数或是系统全局变量。无论哪种情况，都是具有破坏性的，会导致古怪的时序性耦合及顺序依赖。</p>
<h2 id="38-command-query-separation分隔指令和询问"><a class="markdownIt-Anchor" href="#38-command-query-separation分隔指令和询问"></a> 3.8 Command Query Separation(分隔指令和询问)</h2>
<p>函数要么做什么事，要么回答什么事，但二者不可得兼。函数应该修改某对象的状态，或是返回该对象的有关信息。两样都干常会导致混乱。</p>
<ol>
<li>有两种指令与查询混杂的情况：查询某个状态，再根据状态执行操作；执行某个操作，返回该操作的执行情况。</li>
<li>最常见的就是函数执行某项操作，其布尔类型的返回值代表操作成功与否。</li>
</ol>
<h2 id="39-prefer-exceptions-to-returning-error-codes使用异常代替返回错误码"><a class="markdownIt-Anchor" href="#39-prefer-exceptions-to-returning-error-codes使用异常代替返回错误码"></a> 3.9 Prefer Exceptions to Returning Error Codes(使用异常代替返回错误码)</h2>
<h2 id="310-dont-repeat-yourself别重复自己"><a class="markdownIt-Anchor" href="#310-dont-repeat-yourself别重复自己"></a> 3.10 Don’t Repeat Yourself(别重复自己)</h2>
<p>重复可能是软件中一切邪恶的根源。许多原则与实践规则都是为控制与消除重复而创建。例如，</p>
<ul>
<li>考德（Codd）数据库范式都是为消灭数据重复而服务；</li>
<li>面向对象编程是如何将代码集中到基类，从而避免了冗余。</li>
<li>面向方面编程（Aspect Oriented Programming）、面向组件编程（Component Oriented Programming）多少也都是消除重复的一种策略。</li>
</ul>
<h2 id="311-structured-programming结构化编程"><a class="markdownIt-Anchor" href="#311-structured-programming结构化编程"></a> 3.11 Structured Programming(结构化编程)</h2>
<ul>
<li>Dijkstra认为，每个函数、函数中的每个代码块都应该有一个入口、一个出口。意味着在每个函数中只该有一个return语句，循环中不能有break 或continue 语句，而且不能有任何 goto语句。</li>
<li>但对于小函数，这些规则助益不大。只有在大函数中，这些规则才会有明显的好处。</li>
<li>所以，只要函数保持短小，偶尔出现的returm、break 或continue语句没有坏处，甚至还比单入单出原则更具有表达力。另外一方面，goto只在大函数中才有道理，所以应该尽量避免使用。</li>
</ul>
<h2 id="312-如何写出这样的函数"><a class="markdownIt-Anchor" href="#312-如何写出这样的函数"></a> 3.12 如何写出这样的函数</h2>
<p>并不是一开始就按照规则写函数，需要打磨。</p>
<h1 id="ch4-comments注释"><a class="markdownIt-Anchor" href="#ch4-comments注释"></a> Ch4 Comments(注释)</h1>
<ol>
<li>注释最多也就是一种必须的恶。若编程语言足够有表达力，或者我们长于用这些语言来表达意图，就不需要注释。</li>
<li>代码在发动，演化；注释不总是随之变动；而代码是唯一真正准确的信息来源。</li>
</ol>
<h2 id="41-comments-do-not-make-up-for-bad-code注释不能弥补糟糕的代码"><a class="markdownIt-Anchor" href="#41-comments-do-not-make-up-for-bad-code注释不能弥补糟糕的代码"></a> 4.1 Comments Do Not Make Up for Bad Code(注释不能弥补糟糕的代码)</h2>
<h2 id="42-explain-yourself-in-code用代码来阐述"><a class="markdownIt-Anchor" href="#42-explain-yourself-in-code用代码来阐述"></a> 4.2 Explain Yourself in Code(用代码来阐述)</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1</span></span><br><span class="line"><span class="comment">//Check to see if the employee is eligible for full benefits </span></span><br><span class="line"><span class="keyword">if</span> ((employee.flags &amp; HOURLY_FLAG) &amp;&amp; (employee.age &gt;<span class="number">65</span>))</span><br><span class="line"><span class="comment">//方式2</span></span><br><span class="line"><span class="keyword">if</span> (employee.isEligibleForFu11Benefits())</span><br></pre></td></tr></table></figure>
<h2 id="43-good-comments好注释"><a class="markdownIt-Anchor" href="#43-good-comments好注释"></a> 4.3 Good Comments(好注释)</h2>
<p>有些注释是必须的，也是有利的。</p>
<ol>
<li>
<p>法律信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Copyright (C)2003,2004,2005 by Object Mentor, Inc. All rights reserved.</span></span><br><span class="line"><span class="comment">//Released under the terms of the GNU General Public License version 2 or later.</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>提供信息的注释。以下注释解释了某个抽象方法的返回值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Returns an instance of the Responder being tested.</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> Responder <span class="title">responderInstance</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>对意图的解释</p>
</li>
<li>
<p>阐释：有时，注释把某些晦涩难明的参数或返回值的意义翻译为某种可读形式，也会是有用的。这类注释在低层抽象中较为常见，也应该只出现在低层抽象中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCompareTo</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    WikiPagePath a=PathParser. parse(<span class="string">"PageA"</span>); </span><br><span class="line">    WikiPagePath ab=PathParser. parse(<span class="string">"PageA. PageB"</span>);</span><br><span class="line">    WikiPagePath b=PathParser. parse(<span class="string">"PageB"</span>); </span><br><span class="line">    WikiPagePath aa=PathParser. parse(<span class="string">"PageA. PageA"</span>); </span><br><span class="line">    WikiPagePath bb=PathParser. parse(<span class="string">"PageB. PageB"</span>);</span><br><span class="line">    WikiPagePath ba=PathParser. parse(<span class="string">"PageB. PageA"</span>); </span><br><span class="line">    </span><br><span class="line">    assertTrue(a. compareTo(a)==<span class="number">0</span>);<span class="comment">//a==a</span></span><br><span class="line">    assertTrue(a. compareTo(b)!=<span class="number">0</span>);<span class="comment">//a!=b </span></span><br><span class="line">    assertTrue(ab. compareTo(ab)==<span class="number">0</span>);<span class="comment">//ab==ab </span></span><br><span class="line">    assertTrue(a. compareTo(b)==-<span class="number">1</span>);<span class="comment">//a&lt;b </span></span><br><span class="line">    assertTrue(aa. compareTo(ab)==-<span class="number">1</span>);<span class="comment">//aa&lt; ab </span></span><br><span class="line">    assertTrue(ba. compareTo(bb)==-<span class="number">1</span>);<span class="comment">//ba&lt;bb </span></span><br><span class="line">    assertTrue(b. compareTo(a)==<span class="number">1</span>);<span class="comment">//b&gt;a </span></span><br><span class="line">    assertTrue(ab. compareTo(aa)==<span class="number">1</span>);<span class="comment">//ab&gt;aa </span></span><br><span class="line">    assertTrue(bb. compareTo (ba)==<span class="number">1</span>);<span class="comment">//bb&gt;ba</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>警示：有时，用于警告其他程序员会出现某种后果的注释也是有用的。</p>
</li>
<li>
<p>TODO注释：有时用//TODO形式在源代码中放置要做的工作列表。如今，大多数好IDE都提供了特别的手段来定位所有TODO注释，所以TODO注释变得多余。</p>
</li>
<li>
<p>放大(Amplification)：注释可以用来放大某种看来不合理之物的重要性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String listItemContent=match.group(<span class="number">3</span>).trim();</span><br><span class="line"><span class="comment">//the trim is real important. It removes the starting//spaces that could cause the itam to be recognized</span></span><br><span class="line"><span class="comment">//as another list.</span></span><br><span class="line"><span class="keyword">new</span> ListItemwidget(<span class="keyword">this</span>, listItemContent, <span class="keyword">this</span>.level+<span class="number">1</span>); </span><br><span class="line"><span class="keyword">return</span> buildList(text.substring(match. end()));</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>公共API中的Javadoc</p>
</li>
</ol>
<h2 id="44-bad-comments坏注释"><a class="markdownIt-Anchor" href="#44-bad-comments坏注释"></a> 4.4 Bad Comments(坏注释)</h2>
<ol>
<li>
<p>Mumbling：自言自语的注释，往往是作者边写代码边整理思路时留下的。</p>
</li>
<li>
<p>多余的注释(Redundant Comments)：对足够小的函数不需要再做注释，但是一些关键业务函数加上“他是用来做什么”之类的注释。</p>
</li>
<li>
<p>误导性注释(Misleading Comments)</p>
</li>
<li>
<p>循规式注释(Mandated Comments)：每个函数都要有Javadoc 或每个变量都要有注释的规矩是愚蠢可笑的。</p>
</li>
<li>
<p>日志式注释(Journal Comments)：很久以前，在模块开始处创建并维护这些记录还算有道理。那时，我们还没有源代码控制系统可用。如今，这种冗长的记录只会让模块变得凌乱不堪，应当全部删除。</p>
</li>
<li>
<p>废话注释(Noise Comments)</p>
</li>
<li>
<p>可怕的废话(Scary Noise)：Javadoc 也可能是废话。</p>
</li>
<li>
<p>Don’t Use a Comment When You can Use a Function or a Variable.</p>
</li>
<li>
<p>位置标记(Position Markers)</p>
</li>
<li>
<p>括号后面的注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (...) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;<span class="comment">//while</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>归属与署名：源代码控制系统非常善于记住是谁在何时添加了什么，源代码控制系统是这类信息最好的归属地。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Added by Rick*/</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注释掉的代码：20世纪60年代，曾经有那么一段时间，注释掉的代码可能有用，但现在源代码控制系统记住不要的代码。</p>
</li>
<li>
<p>HTML注释</p>
</li>
<li>
<p>非本地信息：假如你一定要写注释，请确保它描述了离它最近的代码，别在本地注释的上下文环境中给出系统级的信息。</p>
</li>
<li>
<p>信息过多：别在注释中添加有趣的历史性话题或者无关的细节描述。</p>
</li>
<li>
<p>不明显的联系：注释及其描述的代码之间的联系应该显而易见。</p>
</li>
<li>
<p>函数头：短函数不需要太多描述。为只做一件事的短函数选个好名字，通常要比写函数头注释要好。</p>
</li>
<li>
<p>非公共代码中的Javadoc</p>
</li>
</ol>
<h1 id="ch5-formatting格式"><a class="markdownIt-Anchor" href="#ch5-formatting格式"></a> Ch5 Formatting(格式)</h1>
<h2 id="51-vertical-formatting垂直格式"><a class="markdownIt-Anchor" href="#51-vertical-formatting垂直格式"></a> 5.1 Vertical Formatting(垂直格式)</h2>
<p>有可能用大多数为200行、最长500行的单个文件构造出色的系统。尽管这并非不可违背的原则，也应该乐于接受。短文件通常比长文件易于理解。</p>
<ol>
<li>
<p>Vertical Openness Between Concepts(间隔)：在封包声明、导入声明和每个函数之间，都有空白行隔开。每个空白行都是一条线索，标识出新的独立概念。</p>
</li>
<li>
<p>Vertical Density(靠近)：紧密相关的代码应该互相靠近</p>
</li>
<li>
<p>Vertical Distance(垂直距离)：</p>
<ul>
<li>
<p>变量声明：变量声明应尽可能靠近其使用位置。因为函数很短，本地变量应该在函数的顶部出现。循环中的控制变量应该总是在循环语句中声明。</p>
</li>
<li>
<p>实体变量应该在类的顶部声明。关于实体变量应该放在哪里，争论不断。在C++中，通常会采用所谓“剪刀原则”（scissors rule），所有实体变量都放在底部。而在Java中，惯例是放在类的顶部。</p>
<blockquote>
<p>关于“剪刀原则”较为确切的解释：在类的头文件中，公共部分放在前面，私有部分放到后面，这样就可以用剪刀将文件一分为二，上半部分是该类的可用部分。</p>
</blockquote>
</li>
<li>
<p>相关函数：若某个函数调用了另外一个，就应该把它们放到一起，而且<strong>调用者应该尽可能放在被调用者上面</strong>。</p>
</li>
<li>
<p>概念相关：概念相关的代码应该放到一起。相关性越强，彼此之间的距离就该越短。这些函数有着极强的概念相关性，因为他们拥有共同的命名模式，执行同一基础任务的不同变种。互相调用是第二位的。即便没有互相调用，也应该放在一起。</p>
</li>
</ul>
</li>
</ol>
<h2 id="52-horizontal-formatting横向格式"><a class="markdownIt-Anchor" href="#52-horizontal-formatting横向格式"></a> 5.2 Horizontal Formatting(横向格式)</h2>
<ul>
<li>
<p>尽力保持代码行短小。死守80个字符的上限有点僵化，不反对代码行长度达到100个字符或120个字符。</p>
</li>
<li>
<p>无需拖动滚动条到右边的原则。但近年来显示器越来越宽，而年轻程序员又能将显示字符缩小到如此程度，屏幕上甚至能容纳200个字符的宽度。作者的上限是<strong>120</strong>个字符。</p>
</li>
</ul>
<ol>
<li>
<p>Horizontal Openness and Density(区隔与靠近)：使用空格字符将彼此紧密相关的事物连接到一起，也用空格字符把相关性较弱的事物分隔开。请看以下函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Func</span><span class="params">(String line)</span></span>&#123;<span class="comment">//不在函数名和左圆括号之间加空格,是函数与其参数密切相关；把参数隔开，是参数互相分离的</span></span><br><span class="line">	lineCount++;</span><br><span class="line">    <span class="keyword">int</span> lineSize = line.length(); <span class="comment">//在赋值操作符周围加上空格字符，分隔表达式左边、右边</span></span><br><span class="line">    (-b + c) / (<span class="number">2</span>*a);<span class="comment">//空格表示运算顺序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>水平对齐：汇编语言程序使用水平对齐来强调某些程序结构，但是C、C++、Java不需要。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>    intNumber;</span><br><span class="line"><span class="keyword">float</span>  floatNumber;</span><br><span class="line"><span class="keyword">double</span> doubleNumber;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>缩进：在短小的if 语句、while循环或小函数中不要违反缩进规则。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (...) &#123;<span class="keyword">return</span> ;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>空范围：while或for语句的语句体为空，尽量不使用。如果无法避免，就确保空范围体的缩进，用括号包围起来。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式1</span></span><br><span class="line"><span class="keyword">while</span> (...)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//方式2</span></span><br><span class="line"><span class="keyword">while</span> (...)</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="53-team-rules团队规则"><a class="markdownIt-Anchor" href="#53-team-rules团队规则"></a> 5.3 Team Rules(团队规则)</h2>
<h1 id="ch6-objects-and-data-structures对象和数据结构"><a class="markdownIt-Anchor" href="#ch6-objects-and-data-structures对象和数据结构"></a> Ch6 Objects and Data Structures(对象和数据结构)</h1>
<h2 id="61-data-abstraction数据抽象"><a class="markdownIt-Anchor" href="#61-data-abstraction数据抽象"></a> 6.1 Data Abstraction(数据抽象)</h2>
<p>数据本体是否一定要隐藏起来，也要视使用场合而定；公共变量存在的原因就是其他类总会有存取他的需要。</p>
<p>不要乱加取值器和赋值器而曝露其内部结构。</p>
<h2 id="62-dataobjects-anti-symmetrey数据-对象的反对称性"><a class="markdownIt-Anchor" href="#62-dataobjects-anti-symmetrey数据-对象的反对称性"></a> 6.2 Data/Objects Anti-Symmetrey(数据、对象的反对称性)</h2>
<p>对象把数据隐藏于抽象之后，曝露操作数据的函数。数据结构曝露其数据，没有提供有意义的函数。</p>
<h2 id="63-the-law-of-demeter得墨忒耳律"><a class="markdownIt-Anchor" href="#63-the-law-of-demeter得墨忒耳律"></a> * 6.3 The Law of Demeter(得墨忒耳律)</h2>
<p>著名的得墨忒耳律（The Law of Demeter）认为，模块不应了解它所操作对象的内部情形。<br>
更准确地说，得墨忒耳律认为，类C的方法f只应该调用以下对象的方法：</p>
<ul>
<li>C</li>
<li>由f创建的对象；</li>
<li>作为参数传递给f的对象；</li>
<li>由C的实体变量持有的对象。</li>
</ul>
<p>方法不应调用由任何函数返回的对象的方法。</p>
<h2 id="64-data-transfer-objects数据传送对象"><a class="markdownIt-Anchor" href="#64-data-transfer-objects数据传送对象"></a> 6.4 Data Transfer Objects(数据传送对象)</h2>
<p>最为精练的数据结构，是一个只有公共变量、没有函数的类。这种数据结构有时被称为数据传送对象，或DTO（Data Transfer Objects）。DTO是非常有用的结构，尤其是在与数据库通信、或解析套接字传递的消息之类场景中。在应用程序代码里一系列将原始数据转换为数据库的翻译过程中，它们往往是排头兵。</p>
<h1 id="ch7-error-handling错误处理"><a class="markdownIt-Anchor" href="#ch7-error-handling错误处理"></a> * Ch7 Error Handling(错误处理)</h1>
<p>错误处理很重要，但如果它搞乱了代码逻辑，就是错误的做法。</p>
<h2 id="71-使用异常而非返回码"><a class="markdownIt-Anchor" href="#71-使用异常而非返回码"></a> 7.1 使用异常而非返回码</h2>
<h2 id="72-write-your-try-catch-finally-statement-first"><a class="markdownIt-Anchor" href="#72-write-your-try-catch-finally-statement-first"></a> 7.2 Write Your Try-Catch-Finally Statement First</h2>
<h2 id="73-use-unchecked-exceptions使用不可控异常"><a class="markdownIt-Anchor" href="#73-use-unchecked-exceptions使用不可控异常"></a> 7.3 Use Unchecked Exceptions(使用不可控异常)</h2>
<p>可控异常的代价就是违反开放/闭合原则。如果你在方法中抛出可控异常，而catch 语句在三个层级之上，你就得在catch 语句和抛出异常处之间的每个方法签名中声明该异常。这意味着对软件中较低层级的修改，都将波及较高层级的签名。修改好的模块必须重新构建、发布，即便它们自身所关注的任何东西都没改动过。</p>
<h2 id="74-provide-context-with-exceptions给出异常发生的环境说明"><a class="markdownIt-Anchor" href="#74-provide-context-with-exceptions给出异常发生的环境说明"></a> 7.4 Provide Context with Exceptions(给出异常发生的环境说明)</h2>
<ul>
<li>抛出的每个异常，都应当提供足够的环境说明，以便判断错误的来源和处所。在Java中，你可以从任何异常里得到堆栈踪迹（stack trace）；然而，堆栈踪迹却无法告诉你该失败操作的初衷。</li>
<li>应创建信息充分的错误消息，并和异常一起传递出去。在消息中，包括失败的操作和失败类型。如果你的应用程序有日志系统，传递足够的信息给catch块，并记录下来。</li>
</ul>
<h2 id="75-define-exception-classes-in-terms-of-a-callers-needs依照调用者需要定义异常类"><a class="markdownIt-Anchor" href="#75-define-exception-classes-in-terms-of-a-callers-needs依照调用者需要定义异常类"></a> 7.5 Define Exception Classes in Terms of a Caller’s Needs(依照调用者需要定义异常类)</h2>
<p>对错误分类有很多方式。可以依其来源分类：是来目组件还是其他地方？或依其类型分类：是设备错误、网络错误还是编程错误？不过，当我们在应用程序中定义异常类时，最重要的考虑应该是他们如何被捕获。</p>
<h2 id="76-define-the-normal-flow定义常规流程"><a class="markdownIt-Anchor" href="#76-define-the-normal-flow定义常规流程"></a> 7.6 Define the Normal Flow(定义常规流程)</h2>
<h2 id="77-dont-return-null"><a class="markdownIt-Anchor" href="#77-dont-return-null"></a> 7.7 Don’t Return Null</h2>
<h2 id="78-dont-pass-null不传递null值"><a class="markdownIt-Anchor" href="#78-dont-pass-null不传递null值"></a> 7.8 Don’t Pass Null(不传递null值)</h2>
<h1 id="ch8-boundaries边界"><a class="markdownIt-Anchor" href="#ch8-boundaries边界"></a> * Ch8 Boundaries(边界)</h1>
<h2 id="81-using-third-party-code使用第三方代码"><a class="markdownIt-Anchor" href="#81-using-third-party-code使用第三方代码"></a> 8.1 Using Third-Party Code(使用第三方代码)</h2>
<p>第三方程序包和框架提供者追求普适性，这样就能在多个环境中工作，吸引广泛的用户。而使用者则想要集中满足特定需求的接口，这样会导致系统边界上出现问题。</p>
<h2 id="82-浏览和学习边界"><a class="markdownIt-Anchor" href="#82-浏览和学习边界"></a> 8.2 浏览和学习边界</h2>
<p>编写测试来浏览和理解第三方代码。</p>
<h1 id="ch9-unit-tests单元测试"><a class="markdownIt-Anchor" href="#ch9-unit-tests单元测试"></a> Ch9 Unit Tests(单元测试)</h1>
<h2 id="91-tdd三定律"><a class="markdownIt-Anchor" href="#91-tdd三定律"></a> 9.1 TDD三定律</h2>
<blockquote>
<p>TDD是<strong>测试驱动开发</strong>（Test-Driven Development）的英文简称，是敏捷开发中的一项核心实践和技术，也是一种设计方法论。TDD的原理是在开发功能代码之前，先编写单元测试用例代码，测试代码确定需要编写什么产品代码。TDD虽是敏捷方法的核心实践，但不只适用于<a href="https://baike.baidu.com/item/XP/776028" target="_blank" rel="noopener">XP</a>（Extreme Programming），同样可以适用于其他开发方法和过程。</p>
</blockquote>
<p>三定律：</p>
<ol>
<li>在编写不能通过的单元测试前，不能编写生成代码；</li>
<li>只可编写刚好无法通过的单元测试，不能编译也算不通过；</li>
<li>只可编写刚好足以通过当前失败测试的生产代码。</li>
</ol>
<h2 id="92-keeping-tests-clean保持测试整洁"><a class="markdownIt-Anchor" href="#92-keeping-tests-clean保持测试整洁"></a> 9.2 Keeping Tests Clean(保持测试整洁)</h2>
<p>测试代码与生产代码一样重要。</p>
<p>测试能给软件带来各种好处，flexibilities(可扩展性)、relabilities(可靠性)等。</p>
<h2 id="93-clean-tests整洁的测试"><a class="markdownIt-Anchor" href="#93-clean-tests整洁的测试"></a> 9.3 Clean Tests(整洁的测试)</h2>
<h2 id="94-one-assert-per-test每个测试一个断言"><a class="markdownIt-Anchor" href="#94-one-assert-per-test每个测试一个断言"></a> 9.4 One Assert per Test(每个测试一个断言)</h2>
<ul>
<li>有流派认为，JUnit中每个测试函数都应该有且只有一个断言语句。</li>
<li>单个测试中的断言数量应该最小化。</li>
</ul>
<h2 id="95-first"><a class="markdownIt-Anchor" href="#95-first"></a> 9.5 F.I.R.S.T.</h2>
<ul>
<li>**快速（Fast）**测试应该够快。测试应该能快速运行。测试运行缓慢，你就不会想要频繁地运行它。如果你不频繁运行测试，就不能尽早发现问题，也无法轻易修正，从而也不能轻而易举地清理代码。最终，代码就会腐坏。</li>
<li>**独立（Independent）**测试应该相互独立。某个测试不应为下一个测试设定条件。你应该可以单独运行每个测试，及以任何顺序运行测试。当测试互相依赖时，头一个没通过就会导致一连串的测试失败，使问题诊断变得困难，隐藏了下级错误。</li>
<li>**可重复（Repeatable）**测试应当可在任何环境中重复通过。你应该能够在生产环境、质检环境中运行测试，也能够在无网络的列车上用笔记本电脑运行测试。如果测试不能在任意环境中重复，你就总会有个解释其失败的接口。当环境条件不具备时，你也会无法运行测试。</li>
<li>**自足验证（Self-Validating）**测试应该有布尔值输出。无论是通过或失败，你不应该查看日志文件来确认测试是否通过。你不应该手工对比两个不同文本文件来确认测试是否通过。如果测试不能自足验证，对失败的判断就会变得依赖主观，而运行测试也需要更长的手工操作时间。</li>
<li>**及时（Timely）**测试应及时编写。单元测试应该恰好在使其通过的生产代码之前编写。如果在编写生产代码之后编写测试，你会发现生产代码难以测试。你可能会认为某些生产代码本身难以测试。你可能不会去设计可测试的代码。</li>
</ul>
<h1 id="ch10-classes类"><a class="markdownIt-Anchor" href="#ch10-classes类"></a> Ch10 Classes(类)</h1>
<h2 id="101-class-organization类的组织"><a class="markdownIt-Anchor" href="#101-class-organization类的组织"></a> 10.1 Class Organization(类的组织)</h2>
<p>遵循标准的Java约定，类应该从一组变量列表开始。如果有公共静态常量，应该先出现。然后是私有静态变量，以及私有实体变量。很少会有公共变量。公共函数应跟在变量列表之后。我们喜欢把由某个公共函数调用的私有工具函数紧随在该公共函数后面。这符合了自顶向下原则，让程序读起来就像一篇报纸文章。</p>
<h2 id="102-class-should-be-small类应该短小"><a class="markdownIt-Anchor" href="#102-class-should-be-small类应该短小"></a> 10.2 Class Should Be Small!(类应该短小)</h2>
<p>对于函数，我们通过计算代码行数衡量大小。对于类，我们采用不同的衡量方法，计算权责（responsibility）。</p>
<ol>
<li>
<p>单一权责原则：一个类应该只有一个发生变化的原因。</p>
</li>
<li>
<p>内聚：</p>
<ul>
<li>类应该只有少量实体变量。类中的每个方法都应该操作一个或多个这种变量。通常而言，方法操作的变量越多，就越黏聚到类上。如果一个类中的每个变量都被每个方法所使用，则该类具有最大的内聚性。</li>
<li>一般来说，创建这种极大化内聚类是既不可取也不可能的；另一方面，我们希望内聚性保持在较高位置。内聚性高，意味着类中的方法和变量互相依赖、互相结合成一个逻辑整体。</li>
</ul>
</li>
<li>
<p>保持内聚性就会得到许多短小的类</p>
</li>
</ol>
<h2 id="103-organizing-for-change为了修改而组织"><a class="markdownIt-Anchor" href="#103-organizing-for-change为了修改而组织"></a> 10.3 Organizing for Change(为了修改而组织)</h2>
<blockquote>
<p>依赖倒置原则(DIP)：高层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该依赖细节；细节应该依赖抽象。</p>
</blockquote>
<p>DIP认为类应当依赖于抽象而不是依赖于具体细节。</p>
<h1 id="ch11-systems系统"><a class="markdownIt-Anchor" href="#ch11-systems系统"></a> * Ch11 Systems(系统)</h1>
<h2 id="111-separate-constructing-a-system-from-using-it将系统的构造与使用分开"><a class="markdownIt-Anchor" href="#111-separate-constructing-a-system-from-using-it将系统的构造与使用分开"></a> 11.1 Separate Constructing a System from Using It(将系统的构造与使用分开)</h2>
<ol>
<li>分解main</li>
<li>工厂</li>
<li>依赖注入</li>
</ol>
<h2 id="112-scaling-up扩容"><a class="markdownIt-Anchor" href="#112-scaling-up扩容"></a> 11.2 Scaling Up(扩容)</h2>
<h2 id="113-java-proxiesjava代理"><a class="markdownIt-Anchor" href="#113-java-proxiesjava代理"></a> 11.3 Java Proxies(Java代理)</h2>
<h2 id="114-pure-java-aop-frameworks纯java-aop框架"><a class="markdownIt-Anchor" href="#114-pure-java-aop-frameworks纯java-aop框架"></a> 11.4 Pure Java AOP Frameworks(纯Java AOP框架)</h2>
<h2 id="115-aspectj-aspectsaspectj的方面"><a class="markdownIt-Anchor" href="#115-aspectj-aspectsaspectj的方面"></a> 11.5 AspectJ Aspects(AspectJ的方面)</h2>
<h2 id="116-test-drive-the-system-architecture测试驱动系统框架"><a class="markdownIt-Anchor" href="#116-test-drive-the-system-architecture测试驱动系统框架"></a> 11.6 Test Drive the System Architecture(测试驱动系统框架)</h2>
<h2 id="117-optimize-decision-making优化决策"><a class="markdownIt-Anchor" href="#117-optimize-decision-making优化决策"></a> 11.7 Optimize Decision Making(优化决策)</h2>
<h1 id="ch12-emergence迭进"><a class="markdownIt-Anchor" href="#ch12-emergence迭进"></a> Ch12 Emergence(迭进)</h1>
<p>Kent Beck关于简单设计的四条规则：</p>
<ol>
<li>运行所有测试；</li>
<li>不可重复；</li>
<li>表达了程序员的意图；</li>
<li>尽可能减少类和方法的数量；</li>
</ol>
<p>以上规则按其重要程度排列。</p>
<h1 id="ch13-concurrency并发编程"><a class="markdownIt-Anchor" href="#ch13-concurrency并发编程"></a> * Ch13 Concurrency(并发编程)</h1>
<blockquote>
<p>“对象是过程的抽象。线程是调度的抽象。”   一James O Coplien</p>
</blockquote>
<h2 id="131-并发防御原则"><a class="markdownIt-Anchor" href="#131-并发防御原则"></a> 13.1 并发防御原则</h2>
<ol>
<li>单一权责原则：分离并发相关代码与其他代码</li>
<li>限制数据作用域：谨记数据封装；严格限制对可能被共享的数据的访问。</li>
<li>使用数据副本</li>
<li>线程尽可能独立：尝试将数据分解到可被独立线程（可能在不同处理器上）操作的独立子集。</li>
</ol>
<h1 id="ch14-successive-refinement逐步改进"><a class="markdownIt-Anchor" href="#ch14-successive-refinement逐步改进"></a> Ch14 Successive Refinement(逐步改进)</h1>
<h1 id="ch15-junit-internalsjunit内幕"><a class="markdownIt-Anchor" href="#ch15-junit-internalsjunit内幕"></a> * Ch15 JUnit Internals(JUnit内幕)</h1>
<h1 id="ch16-refactoring-serialdate重构-serialdate"><a class="markdownIt-Anchor" href="#ch16-refactoring-serialdate重构-serialdate"></a> * Ch16 Refactoring SerialDate(重构 SerialDate)</h1>
<h1 id="ch17-smells-and-heuristics味道与启发"><a class="markdownIt-Anchor" href="#ch17-smells-and-heuristics味道与启发"></a> * Ch17 Smells and Heuristics(味道与启发)</h1>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://Dragonliu2022.github.io/2022/04/15/《代码整洁之道 clean code》笔记/" title="《代码整洁之道 clean code》笔记" target="_blank" rel="external">https://Dragonliu2022.github.io/2022/04/15/《代码整洁之道 clean code》笔记/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/dragonliu2018" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/dragonliu2018" target="_blank"><span class="text-dark">Dragon&#39;s Blogs</span><small class="ml-1x">Synthesis</small></a></h3>
        <div>Life is painting a picture, not doing a sum.</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2022/04/15/MR-merge-request-vs-PR-pull-request/" title="MR(merge request) vs PR(pull request)"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2022/04/13/i南航自动打卡/" title="i南航自动打卡"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn " data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">    <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/dragonliu2018" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'Pbjl2Wajl9och0xVbR5eqoH1-gzGzoHsz',
    appKey: 'PgxFh1wV6pyMMllhxs7NJijb',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>